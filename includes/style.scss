$color_bg      : #222;
$color_txt     : #fff;
$color_bg_alt  : #1c1c1c;
$color_txt_alt : #8c8c8c;

:root {
	--gutter: 1em;

	--columns: 4;
	@media (min-width: 480px) {
		--columns: 6;
	}
	@media (min-width: 720px) {
		--columns: 8;
	}
	@media (min-width: 960px) {
		--columns: 10;
	}
	@media (min-width: 1200px) {
		--columns: 12;
	}
	@media (min-width: 1440px) {
		--columns: 14;
	}
	@media (min-width: 1680px) {
		--columns: 16;
	}
	@media (min-width: 1920px) {
		--columns: 18;
	}
	@media (min-width: 2160px) {
		--columns: 20;
	}
	@media (min-width: 2400px) {
		--columns: 22;
	}
	@media (min-width: 2640px) {
		--columns: 24;
	}
	@media (min-width: 2880px) {
		--columns: 26;
	}
	@media (min-width: 3120px) {
		--columns: 28;
	}
	@media (min-width: 3360px) {
		--columns: 30;
	}

}

* {
	margin: 0;
	padding: 0;

	&,
	&::before,
	&::after {
		box-sizing: inherit;
	}

}

body {
	font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Ubuntu, Cantarell, 'Noto Sans', sans-serif;
	line-height: 1.75;
	background: $color_bg;
	color: $color_txt;
}

.gallery {
	counter-reset: pics;
	display: grid;
	grid-template-columns: repeat( var(--columns), 1fr );
	gap: var(--gutter);
	width: 92vw;
	padding: 0;
	margin: 10vh auto;
	list-style: none;
}

figure {
	counter-increment: pics;
	position: relative;

	&::after {
		content: counter(pics);
		position: absolute;
		left: 0;
		top:  0;
		width: 2.5em;
		font-size: .5em;
		line-height: 2.5;
		text-align: center;
		background: $color_bg_alt;
		color: $color_txt_alt;
		border: 2px solid $color_bg;
		border-radius: 10em;
		transform: translate(-50%, -50%);
		pointer-events: none;
	}

	&:hover,
	&:focus-within {

		&::after,
		figcaption {
			background: #06c;
			color: #fff;
		}

	}

}

	figcaption {
		position: absolute;
		left: 0;
		top: 0;
		width: 100%;
		font-size: .6em;
		text-align: center;
		text-transform: uppercase;
		white-space: nowrap;
		background: $color_bg_alt;
		color: $color_txt_alt;
		overflow: hidden;
	}

img {
	object-fit: contain;
	width:  100%;
	height: 100%;
	background-image:
		linear-gradient(  45deg, rgba( $color_txt, .1 ) 25%, rgba( $color_txt,  0 ) 25% ),
		linear-gradient( -45deg, rgba( $color_txt, .1 ) 25%, rgba( $color_txt,  0 ) 25% ),
		linear-gradient(  45deg, rgba( $color_txt,  0 ) 75%, rgba( $color_txt, .1 ) 75% ),
		linear-gradient( -45deg, rgba( $color_txt,  0 ) 75%, rgba( $color_txt, .1 ) 75% );
	background-size: 10px 10px;
	background-position:
		0 0,
		0 5px,
		5px -5px,
		-5px 0px;
	vertical-align: top;
	transition: background .5s;
}

nav {
	margin: 2em;
	text-align: center;

	a {
		padding: .25em 1em;
		font-weight: 700;
		text-decoration: none;
		color: inherit;
		border: 2px solid;
		border-radius: 3px;
	}

}
